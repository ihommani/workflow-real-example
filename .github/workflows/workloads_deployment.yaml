name: Workload deployment
run-name: '${{ github.actor }} triggers workload deployment'


on: 
    workflow_call: # TODO : set the environemnt as an input.along with repository id and so on. 


# matrix strategy: one cloud_run_deployment job per app/service folder (each one contains a Dockerfile which was build as an image with the name of the parent folder)
# "deviner" le nom des services Ã  associer aux images existantes
jobs:

    # list all the services name
    # list all the jobs name
    # for each list, do the matrix strategy for each service or job

    deploy_services:
        runs-on: ubuntu-22.04
        steps:
            - name: toto
              run: |-
                echo "TODO"
                
    deploy_jobs:
        runs-on: ubuntu-22.04
        steps:
            - name: deploy_jobs
              run: |-
                echo "TODO"
